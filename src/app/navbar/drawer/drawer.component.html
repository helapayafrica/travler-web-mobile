<!-- drawer.component.html -->
<ng-template #content let-offcanvas>
  <div style="z-index: 9999" class="offcanvas-header" data-bs-theme="dark">
    <app-shared-logo />
    <button
      type="button"
      class="btn-close me-2"
      aria-label="Close"
      (click)="offcanvas.dismiss('Cross click')">
    </button>
  </div>

  <div class="offcanvas-body py-2">
    <div class="vstack rounded gap-2">

      <!-- Book Ticket -->
      <a class="nav-link" (click)="offcanvas.dismiss()" routerLink="/ticket">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="me-2">
          <polyline points="6 9 6 2 18 2 18 9"/>
          <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/>
          <rect width="12" height="8" x="6" y="14"/>
        </svg>
        {{ 'offcanvas.bookTicket' | translate }}
      </a>

      <!-- Sign Up -->
      <a *ngIf="!loggedIn" class="nav-link" (click)="offcanvas.dismiss()" routerLink="/sign-up">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="me-2">
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
          <circle cx="9" cy="7" r="4"/>
          <line x1="19" y1="8" x2="19" y2="14"/>
          <line x1="22" y1="11" x2="16" y2="11"/>
        </svg>
        {{ 'offcanvas.signUp' | translate }}
      </a>

      <!-- Login -->
      <a *ngIf="!loggedIn" class="nav-link" (click)="offcanvas.dismiss()" routerLink="/login">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="me-2">
          <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
          <polyline points="10 17 15 12 10 7"/>
          <line x1="15" x2="3" y1="12" y2="12"/>
        </svg>
        {{ 'offcanvas.signIn' | translate }}
      </a>

      <!-- Dashboard -->
      <a *ngIf="loggedIn && isAgent" class="nav-link" (click)="offcanvas.dismiss()" routerLink="/user-profile/dashboard">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="me-2">
          <path d="M3 3h7v9H3z"/>
          <path d="M14 3h7v5h-7z"/>
          <path d="M14 12h7v9h-7z"/>
          <path d="M3 15h7v6H3z"/>
        </svg>
        {{ 'offcanvas.dashboard' | translate }}
      </a>

      <!-- Bookings -->
      <a *ngIf="loggedIn" class="nav-link" (click)="offcanvas.dismiss()" routerLink="/user-profile/bookings">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="me-2">
          <rect width="20" height="14" x="2" y="5" rx="2"/>
          <line x1="2" y1="10" x2="22" y2="10"/>
        </svg>
        {{ 'offcanvas.bookings' | translate }}
      </a>

      <!-- Wallet -->
      <a *ngIf="loggedIn" class="nav-link" (click)="offcanvas.dismiss()" routerLink="/user-profile/wallet">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="me-2">
          <path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/>
          <path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/>
          <path d="M18 12a2 2 0 0 0 0 4h4v-4Z"/>
        </svg>
        {{ 'offcanvas.wallet' | translate }}
      </a>

      <!-- Account -->
      <a *ngIf="loggedIn" class="nav-link" (click)="offcanvas.dismiss()" routerLink="/user-profile/account">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="me-2">
          <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/>
          <circle cx="12" cy="12" r="3"/>
        </svg>
        {{ 'offcanvas.account' | translate }}
      </a>

      <!-- Change Password -->
      <a *ngIf="loggedIn" class="nav-link" (click)="offcanvas.dismiss()" routerLink="/user-profile/change-password">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="me-2">
          <circle cx="7.5" cy="15.5" r="5.5"/>
          <path d="m21 2-9.6 9.6"/>
          <path d="m15.5 7.5 3 3L22 7l-3-3"/>
        </svg>
        {{ 'offcanvas.changePassword' | translate }}
      </a>

      <!-- Users List (Agent only) -->
      <a *ngIf="loggedIn && isAgent" class="nav-link" (click)="offcanvas.dismiss()" routerLink="/user-profile/user-list">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="me-2">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
          <circle cx="9" cy="7" r="4"/>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
        </svg>
        {{ 'offcanvas.usersList' | translate }}
      </a>

      <div class="dropdown-divider"></div>

      <!-- Logout -->
      <a *ngIf="loggedIn" class="text-danger nav-link" (click)="logout();offcanvas.dismiss();">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="me-2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
          <polyline points="16 17 21 12 16 7"/>
          <line x1="21" y1="12" x2="9" y2="12"/>
        </svg>
        {{ 'offcanvas.logout' | translate }}
      </a>

    </div>
  </div>
</ng-template>

<button class="menu-btn" aria-controls="offcanvasNavbar" aria-label="Toggle navigation"
        (click)="open(content)">
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
       viewBox="0 0 24 24" fill="none" stroke="currentColor"
       stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <line x1="4" y1="12" x2="20" y2="12"/>
    <line x1="4" y1="6" x2="20" y2="6"/>
    <line x1="4" y1="18" x2="20" y2="18"/>
  </svg>
</button>
