<div
  style="height:70vh; margin-top: 7rem;"
  class="container">
  <div class="card shadow">
    <!-- Logo + Header -->
    <div class="card-header m-0">
      <div class="text-center">
        <img src="assets/WEBP/logo.webp" width="180px" height="auto" alt="logo">
      </div>
      <h3 class="text-center mb-2 fw-bold">{{ 'login.title' | translate }}</h3>
    </div>



    <div class="card-body">
<form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
  <div class="row">
    <!-- Code -->
    <div class="mt-2 col-4">
      <div class="d-flex flex-column gap-1">
        <label for="code">{{ 'login.labels.code' | translate }}</label>
        <p-select [options]="codes"
                  formControlName="country_code"
                  id="code"
                  optionLabel="label"
                  optionValue="value"
                  placeholder="{{ 'login.placeholders.code' | translate }}"
                  class="w-100 p-dropdown-sm">
        </p-select>
        <small *ngIf="loginForm.get('country_code')?.touched && loginForm.get('country_code')?.errors?.['required']"
               class="text-danger">
          {{ 'login.validation.codeRequired' | translate }}
        </small>
      </div>
    </div>

    <!-- Phone Number -->
    <div class="mt-2 col-8">
      <div class="d-flex flex-column gap-1">
        <label for="phone">{{ 'login.labels.phoneNumber' | translate }}</label>
        <input formControlName="phone_number"
               id="phone"
               type="tel"
               class="w-100 form-control p-2"
               inputmode="tel"
               placeholder="{{ 'login.placeholders.phoneNumber' | translate }}"
               pattern="^\+?[0-9\s\-]{7,15}$">
        <small *ngIf="loginForm.get('phone_number')?.touched && loginForm.get('phone_number')?.errors?.['required']"
               class="text-danger">
          {{ 'login.validation.phoneRequired' | translate }}
        </small>
      </div>
    </div>

    <!-- Password -->
    <div class="mt-2 col-12">
      <div class="d-flex flex-column gap-1">
        <label for="password">{{ 'login.labels.password' | translate }}</label>
        <p-password formControlName="password"
                    inputId="password"
                    [feedback]="false"
                    [toggleMask]="true"
                    inputStyleClass="w-100 form-control">
        </p-password>
        <small *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['required']"
               class="text-danger">
          {{ 'login.validation.passwordRequired' | translate }}
        </small>
        <small *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['minlength']"
               class="text-danger">
          {{ 'login.validation.passwordMinLength' | translate }}
        </small>
      </div>
    </div>

    <!-- Remember Me + Forgot Password -->
    <div class="mt-3 row">
      <div class="col d-flex align-items-center justify-content-start">
        <p-checkbox inputId="rememberMe" formControlName="rememberMe" binary="true"></p-checkbox>
        <label for="rememberMe" class="ms-2">{{ 'login.labels.rememberMe' | translate }}</label>
      </div>
      <div class="col text-end">
        <a href="#" class="text-decoration-none">{{ 'login.labels.forgotPassword' | translate }}</a>
      </div>
    </div>
  </div>

  <!-- Submit -->
  <div class="col-12 mt-3">
    <button type="submit"
            class="w-100 rounded-pill p-2 bg-primary text-white"
            [disabled]="loginForm.invalid || isSubmitting">
      <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm me-2"></span>
      {{ isSubmitting ? ('login.buttons.loggingIn' | translate) : ('login.buttons.signIn' | translate) }}
    </button>
  </div>

  <!-- Signup link -->
  <div class="text-center mt-3">
    <p class="mb-0">
      <a routerLink="/sign-up" class="link-underline" style="cursor: pointer;">
      {{ 'login.labels.signUpLink' | translate }}
      </a>
    </p>
  </div>
</form>
    </div>
  </div>
</div>
