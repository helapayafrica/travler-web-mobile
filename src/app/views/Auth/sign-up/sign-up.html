<h2 class="text-center mb-4">{{ 'signup.title' | translate }}</h2>
<form (ngSubmit)="onSubmit()" [formGroup]="signupForm">

  <!-- Name -->
  <label class="fw-medium" for="name">{{ 'signup.labels.name' | translate }}</label>
  <input formControlName="name"
         id="name"
         pInputText
         type="text"
         placeholder="{{ 'signup.placeholders.name' | translate }}">
  <small *ngIf="signupForm.get('name')?.touched && signupForm.get('name')?.errors?.['required']"
         class="text-danger">
    {{ 'signup.validation.nameRequired' | translate }}
  </small>

  <!-- Code -->
  <label class="fw-medium" for="code">{{ 'signup.labels.code' | translate }}</label>
  <p-select [options]="codes"
            formControlName="country_code"
            id="code"
            optionLabel="label"
            placeholder="{{ 'signup.placeholders.code' | translate }}">
  </p-select>
  <small *ngIf="signupForm.get('country_code')?.touched && signupForm.get('country_code')?.errors?.['required']"
         class="text-danger">
    {{ 'signup.validation.codeRequired' | translate }}
  </small>

  <!-- Phone -->
  <label class="fw-medium" for="phone">{{ 'signup.labels.phoneNumber' | translate }}</label>
  <input formControlName="phone_number"
         id="phone"
         type="number"
         placeholder="{{ 'signup.placeholders.phoneNumber' | translate }}">
  <small *ngIf="signupForm.get('phone_number')?.touched && signupForm.get('phone_number')?.errors?.['required']"
         class="text-danger">
    {{ 'signup.validation.phoneRequired' | translate }}
  </small>

  <!-- Email -->
  <label class="fw-medium" for="email">{{ 'signup.labels.email' | translate }}</label>
  <input formControlName="email"
         id="email"
         type="email"
         placeholder="{{ 'signup.placeholders.email' | translate }}">
  <small *ngIf="signupForm.get('email')?.touched && signupForm.get('email')?.errors?.['required']"
         class="text-danger">
    {{ 'signup.validation.emailRequired' | translate }}
  </small>
  <small *ngIf="signupForm.get('email')?.touched && signupForm.get('email')?.errors?.['email']"
         class="text-danger">
    {{ 'signup.validation.emailInvalid' | translate }}
  </small>

  <!-- Gender -->
  <label class="fw-medium" for="gender">{{ 'signup.labels.gender' | translate }}</label>
  <p-select [options]="[{ label: 'Male', value: 'M' },{ label: 'Female', value: 'F' }]"
            formControlName="gender"
            id="gender"
            optionLabel="label"
            placeholder="{{ 'signup.placeholders.gender' | translate }}">
  </p-select>

  <!-- Date of Birth -->
  <label class="fw-medium" for="date-of-birth">{{ 'signup.labels.dateOfBirth' | translate }}</label>
  <p-date-picker formControlName="date_of_birth"
                 [maxDate]="maxDOB"
                 placeholder="{{ 'signup.placeholders.dateOfBirth' | translate }}">
  </p-date-picker>
  <small *ngIf="signupForm.get('date_of_birth')?.touched && signupForm.get('date_of_birth')?.errors?.['required']"
         class="text-danger">
    {{ 'signup.validation.dobRequired' | translate }}
  </small>
  <small *ngIf="signupForm.get('date_of_birth')?.touched && signupForm.get('date_of_birth')?.errors?.['underage']"
         class="text-danger">
    {{ 'signup.validation.dobUnderage' | translate }}
  </small>

  <!-- Promo Code Checkbox -->
  <p-checkbox formControlName="more" [binary]="true" inputId="coupon_code"></p-checkbox>
  <label for="coupon_code">{{ 'signup.labels.havePromoCode' | translate }}</label>

  <!-- Promo Code Input -->
  <label class="fw-medium" for="coupon">{{ 'signup.labels.promoCode' | translate }}</label>
  <input formControlName="coupon_code"
         id="coupon"
         placeholder="{{ 'signup.placeholders.promoCode' | translate }}">

  <!-- Password -->
  <label class="fw-medium" for="password">{{ 'signup.labels.password' | translate }}</label>
  <p-password formControlName="password"
              [toggleMask]="true"
              placeholder="{{ 'signup.placeholders.password' | translate }}">
  </p-password>
  <small *ngIf="signupForm.get('password')?.touched && signupForm.get('password')?.errors?.['required']"
         class="text-danger">
    {{ 'signup.validation.passwordRequired' | translate }}
  </small>
  <small *ngIf="signupForm.get('password')?.touched && signupForm.get('password')?.errors?.['minlength']"
         class="text-danger">
    {{ 'signup.validation.passwordMinLength' | translate }}
  </small>

  <!-- Confirm Password -->
  <label class="fw-medium" for="confPassword">{{ 'signup.labels.confirmPassword' | translate }}</label>
  <p-password formControlName="confirmPassword"
              [toggleMask]="true"
              placeholder="{{ 'signup.placeholders.confirmPassword' | translate }}">
  </p-password>
  <small *ngIf="signupForm.get('confirmPassword')?.touched && signupForm.get('confirmPassword')?.errors?.['required']"
         class="text-danger">
    {{ 'signup.validation.confirmPasswordRequired' | translate }}
  </small>
  <small *ngIf="signupForm.get('confirmPassword')?.touched && signupForm.get('confirmPassword')?.errors?.['mustMatch']"
         class="text-danger">
    {{ 'signup.validation.passwordsMustMatch' | translate }}
  </small>

  <!-- Terms -->
  <p-checkbox formControlName="terms" [binary]="true" inputId="terms"></p-checkbox>
  <label for="terms">{{ 'signup.labels.terms' | translate }}</label>
  <small *ngIf="signupForm.get('terms')?.touched && signupForm.get('terms')?.errors?.['required']"
         class="text-danger">
    {{ 'signup.validation.termsRequired' | translate }}
  </small>

  <!-- Submit -->
  <button type="submit">
    <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm me-2"></span>
    {{ isSubmitting ? ('signup.buttons.creatingAccount' | translate) : ('signup.buttons.signUp' | translate) }}
  </button>

  <!-- Login Link -->
  <p>Already have an account? <a routerLink="/login">{{ 'signup.links.signIn' | translate }}</a></p>

</form>
