<!-- Tab Navigation -->
<div class="container-fluid mt-3">
  <div class="row">
    <div class="col-12 p-0">
      <div class="card p-0">
        <div class="card-header p-0">
          <nav class="nav nav-tabs card-header-tabs" role="tablist">
            <button
              class="nav-link"
              [class.active]="activeTab === 'upcoming'"
              (click)="getTripData('upcoming')"
              type="button">
              <i class="fas fa-clock me-2"></i>
              {{ 'myTripsPage.tabs.upcoming' | translate }}
            </button>
            <button
              class="nav-link"
              [class.active]="activeTab === 'completed'"
              (click)="getTripData('completed')"
              type="button">
              <i class="fas fa-check-circle me-2"></i>
              {{ 'myTripsPage.tabs.completed' | translate }}
            </button>
          </nav>
        </div>

        <div class="card-body px-0">
          <!-- Mobile Compact Table -->
          <div *ngFor="let booking of data; let i = index" class="booking-row ">
            <div class="row-header">
              <div class="passenger-info">
                <span class="passenger-name">{{ booking.name }}</span>
                <span class="booking-ref">{{ booking.booking_reference }}</span>
              </div>
              <span
                class="status-badge"
                [ngClass]="{
                  'status-confirmed': booking.status === 'Confirmed',
                  'status-pending': booking.status === 'Pending',
                  'status-cancelled': booking.status === 'Cancelled',
                  'status-completed': booking.status === 'Completed'
                }">
                {{ 'myTripsPage.status.' + booking.status.toLowerCase() | translate }}
              </span>
            </div>

            <!-- Compact Info Table -->
            <div class="ticket-container">
              <!-- Ticket Header -->
              <div class="ticket-header">
                <div class="route-section">
                  <div class="city-block">
                    <span class="city-name">{{ booking.pickup_city }}</span>
                    <i class="fas fa-arrow-right"></i>
                    <span class="city-name">{{ booking.drop_city }}</span>
                  </div>
                  <div class="operator-name">{{ booking.company_name }}</div>
                </div>
              </div>

              <!-- Ticket Body -->
              <div class="ticket-body">
                <div class="body-row">
                  <div class="ticket-field">
                    <span class="field-label">Date & Time</span>
                    <span class="field-value">
          <i class="fas fa-calendar"></i>
                      {{ booking.booking_date | date:'MMM dd' }} â€¢ {{ booking.boarding_time }}
        </span>
                  </div>

                  <div class="ticket-field">
                    <span class="field-label">Amount</span>
                    <span class="field-value amount">{{ booking.currency_code }} {{ booking.total_amount }}</span>
                  </div>
                </div>

                <div class="body-row">
                  <div class="ticket-field">
                    <span class="field-label">Seat</span>
                    <span class="field-value">{{ booking.seat_name }}</span>
                  </div>

                  <div class="ticket-field">
                    <span class="field-label">Bus Type</span>
                    <span class="field-value">{{ booking.bus_type | titlecase }}</span>
                  </div>
                </div>

                <div class="boarding-point" *ngIf="booking.boarding_point">
                  <i class="fas fa-map-pin"></i>
                  {{ booking.boarding_point }}
                </div>
              </div>

              <!-- Ticket Footer -->
              <div class="ticket-footer" *ngIf="booking.status === 'upcoming'">
                <button class="btn-reschedule">
                  <i class="fas fa-clock-rotate-left"></i>
                  {{ 'myTripsPage.actions.reschedule' | translate }}
                </button>
              </div>
            </div>


<!--            <div class="action-row">-->
<!--              <button type="button" class="btn-action btn-primary">-->
<!--                <i class="fas fa-eye"></i>-->
<!--                {{ 'myTripsPage.actions.view' | translate }}-->
<!--              </button>-->

<!--              <button type="button" class="btn-action btn-success" *ngIf="booking.status === 'Confirmed'">-->
<!--                <i class="fas fa-download"></i>-->
<!--                {{ 'myTripsPage.actions.download' | translate }}-->
<!--              </button>-->

<!--              <button type="button" class="btn-action btn-danger" *ngIf="booking.status === 'Confirmed'">-->
<!--                <i class="fas fa-times"></i>-->
<!--                {{ 'myTripsPage.actions.cancel' | translate }}-->
<!--              </button>-->
<!--            </div>-->
          </div>

          <!-- No data message -->
          <div *ngIf="!data || data.length === 0" class="text-center py-4">
            <i class="fas fa-inbox text-muted" style="font-size: 3rem;"></i>
            <h6 class="text-muted mt-2">{{ 'myTripsPage.noData.title' | translate:{ tab: activeTab } }}</h6>
            <small class="text-muted">{{ 'myTripsPage.noData.subtitle' | translate:{ tab: activeTab } }}</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
