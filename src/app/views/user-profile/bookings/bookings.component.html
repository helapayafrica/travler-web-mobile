<!-- Tab Navigation -->
<div class="container-fluid mt-3">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header p-0">
          <nav class="nav nav-tabs card-header-tabs" role="tablist">
            <button
              class="nav-link"
              [class.active]="activeTab === 'upcoming'"
              (click)="getTripData('upcoming')"
              type="button">
              <i class="fas fa-clock me-2"></i>
              {{ 'myTripsPage.tabs.upcoming' | translate }}
            </button>
            <button
              class="nav-link"
              [class.active]="activeTab === 'completed'"
              (click)="getTripData('completed')"
              type="button">
              <i class="fas fa-check-circle me-2"></i>
              {{ 'myTripsPage.tabs.completed' | translate }}
            </button>
          </nav>
        </div>

        <div class="card-body p-2">
          <!-- Mobile Compact Table -->
          <div *ngFor="let booking of data; let i = index" class="booking-row mb-3">
            <div class="row-header">
              <div class="passenger-info">
                <span class="passenger-name">{{ booking.name }}</span>
                <span class="booking-ref">{{ booking.booking_reference }}</span>
              </div>
              <span
                class="status-badge"
                [ngClass]="{
                  'status-confirmed': booking.status === 'Confirmed',
                  'status-pending': booking.status === 'Pending',
                  'status-cancelled': booking.status === 'Cancelled',
                  'status-completed': booking.status === 'Completed'
                }">
                {{ 'myTripsPage.status.' + booking.status.toLowerCase() | translate }}
              </span>
            </div>

            <!-- Compact Info Table -->
           <div class="info-strip">
  <div class="info-chip">
    <i class="fas fa-route"></i>
    <span>{{ booking.pickup_city }} → {{ booking.drop_city }}</span>
  </div>

  <div class="info-chip">
    <i class="fas fa-calendar"></i>
    <span>{{ booking.booking_date | date:'MMM dd' }} • {{ booking.boarding_time }}</span>
  </div>

  <div class="info-chip">
    <i class="fas fa-chair"></i>
    <span>{{ booking.seat_name }}</span>
    <span class="bus-type">{{ booking.bus_type | titlecase }}</span>
  </div>

  <div class="info-chip">
    <i class="fas fa-money-bill"></i>
    <span class="amount">{{ booking.currency_code }} {{ booking.total_amount }}</span>
  </div>

  <div class="info-chip">
    <i class="fas fa-building"></i>
    <span>{{ booking.company_name }}</span>
    <a href="tel:{{ booking.company_phone }}" class="phone-link">
      <i class="fas fa-phone"></i>
    </a>
  </div>

  <div class="info-chip" *ngIf="booking.boarding_point">
    <i class="fas fa-map-pin"></i>
    <span>{{ booking.boarding_point }}</span>
  </div>

  <div class="trip-actions" *ngIf="booking.status === 'upcoming'">
  <button class="btn-reschedule">
    <i class="fas fa-clock-rotate-left"></i>
    {{ 'myTripsPage.actions.reschedule' | translate }}
  </button>
</div>

</div>


<!--            <div class="action-row">-->
<!--              <button type="button" class="btn-action btn-primary">-->
<!--                <i class="fas fa-eye"></i>-->
<!--                {{ 'myTripsPage.actions.view' | translate }}-->
<!--              </button>-->

<!--              <button type="button" class="btn-action btn-success" *ngIf="booking.status === 'Confirmed'">-->
<!--                <i class="fas fa-download"></i>-->
<!--                {{ 'myTripsPage.actions.download' | translate }}-->
<!--              </button>-->

<!--              <button type="button" class="btn-action btn-danger" *ngIf="booking.status === 'Confirmed'">-->
<!--                <i class="fas fa-times"></i>-->
<!--                {{ 'myTripsPage.actions.cancel' | translate }}-->
<!--              </button>-->
<!--            </div>-->
          </div>

          <!-- No data message -->
          <div *ngIf="!data || data.length === 0" class="text-center py-4">
            <i class="fas fa-inbox text-muted" style="font-size: 3rem;"></i>
            <h6 class="text-muted mt-2">{{ 'myTripsPage.noData.title' | translate:{ tab: activeTab } }}</h6>
            <small class="text-muted">{{ 'myTripsPage.noData.subtitle' | translate:{ tab: activeTab } }}</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
