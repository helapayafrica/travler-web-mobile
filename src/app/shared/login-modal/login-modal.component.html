<!--&lt;!&ndash; Bootstrap Modal &ndash;&gt;-->
<!--<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true" #loginModal>-->
<!--    <div class="modal-dialog modal-custom-small modal-dialog-centered">-->
<!--      <div class="modal-content">-->
<!--        <div class="modal-header border-0 m-0 p-3">-->
<!--          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--        </div>-->
<!--        <div class="modal-body">-->
<!--          <div class="d-flex flex-column justify-content-center align-items-center mb-2">-->
<!--            <div class="text-center">-->
<!--              <img src="assets/top-logo-cropped.png" width="180px" height="auto" alt="logo">-->
<!--            </div>-->
<!--            <h6 class="modal-title" id="loginModalLabel">SIGN IN</h6>-->
<!--          </div>-->
<!--          <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">-->
<!--            <div class="row mb-2">-->
<!--              <div class="col-sm-4">-->
<!--                <label for="price" class="form-label">CODE</label>-->
<!--                <select class="form-select"  formControlName="country_code">-->
<!--                  <option [value]="item.code" *ngFor="let item of country_codes">{{item.code}}</option>-->
<!--                </select>-->
<!--              </div>-->
<!--              <div class="col-sm-8">-->
<!--                <label for="phone_number" class="form-label">PHONE NUMBER</label>-->
<!--                <div class="input-group">-->
<!--                  <span class="input-group-text"><i class="bi bi-telephone-plus"></i></span>-->
<!--                  <input-->
<!--                    type="number"-->
<!--                    class="form-control"-->
<!--                    id="phone_number"-->
<!--                    formControlName="phone_number"-->
<!--                    placeholder="700000000">-->
<!--                </div>-->
<!--                <div class="text-danger small mt-1"-->
<!--                     *ngIf="loginForm.get('phone_number')?.invalid && (loginForm.get('phone_number')?.dirty || loginForm.get('phone_number')?.touched)">-->
<!--                  <div *ngIf="loginForm.get('phone_number')?.errors?.['required']">Enter a valid Phone number</div>-->
<!--                  <div *ngIf="loginForm.get('phone_number')?.errors?.['phone_number']">Please enter a valid Phone number</div>-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->



<!--            <div class="mb-3">-->
<!--              <label for="password" class="form-label">PASSWORD</label>-->
<!--              <div class="input-group">-->
<!--                <span class="input-group-text"><i class="bi bi-lock"></i></span>-->
<!--                <input-->
<!--                  [type]="showPassword ? 'text' : 'password'"-->
<!--                  class="form-control"-->
<!--                  id="password"-->
<!--                  formControlName="password">-->
<!--                <button-->
<!--                  class="input-group-text btn btn-outline-secondary"-->
<!--                  type="button"-->
<!--                  (click)="togglePasswordVisibility()">-->
<!--                  <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>-->
<!--                </button>-->
<!--              </div>-->
<!--              <div class="text-danger small mt-1"-->
<!--                   *ngIf="loginForm.get('password')?.invalid && (loginForm.get('password')?.dirty || loginForm.get('password')?.touched)">-->
<!--                <div *ngIf="loginForm.get('password')?.errors?.['required']">Password is required</div>-->
<!--                <div *ngIf="loginForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->

<!--            <div class="row ">-->
<!--              <div class="col">-->
<!--                <div class="form-check">-->
<!--                  <input class="form-check-input" type="checkbox" id="rememberMe" formControlName="rememberMe">-->
<!--                  <label class="form-check-label" for="rememberMe">Remember me</label>-->
<!--                </div>-->
<!--              </div>-->
<!--              <div class="col text-end">-->
<!--                <a href="#" class="text-decoration-none">Forgot password?</a>-->
<!--              </div>-->
<!--            </div>-->

<!--            <button-->
<!--              type="submit"-->
<!--              class="btn btn-primary w-100 py-2 mb-2 rounded-pill"-->
<!--              [disabled]="loginForm.invalid || isSubmitting">-->
<!--              &lt;!&ndash; <span class="spinner-border spinner-border-sm me-2" *ngIf="isSubmitting"></span> &ndash;&gt;-->
<!--              SIGN IN-->
<!--            </button>-->


<!--            <div class="d-flex align-items-center">-->
<!--              <hr class="flex-grow-1">-->
<!--              <span class="px-3 text-secondary" style="font-size: 12px;color: darkred !important;font-weight: 700;">OR CONTINUE </span>-->
<!--              <hr class="flex-grow-1">-->
<!--            </div>-->

<!--            <button-->
<!--            type="submit" (click)="continue()"-->
<!--            class="btn btn-primary w-100 py-2 mb-2 rounded-pill"-->
<!--            >-->
<!--            AS GUEST AND CREATE ACCOUNT-->
<!--          </button>-->

<!--            <div class="text-center" (click)="sign()">-->
<!--              <p class="mb-0">-->
<!--                Don't have an account? <a class="text-decoration-none">Sign up</a>-->
<!--              </p>-->
<!--            </div>-->
<!--          </form>-->


<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->

<!--  <ngx-loading [show]="loading" [config]="loadingConfig"></ngx-loading>-->

<div class="container">
  <div class="card shadow">
    <!-- Logo + Header -->
    <div class="card-header m-0">
      <div class="text-center">
        <img src="assets/top-logo-cropped.png" width="180px" height="auto" alt="">
      </div>
      <h3 class="text-center mb-2 fw-bold">Log in</h3>
    </div>

    <div class="card-body">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="row">
          <!-- Code -->
          <div class="mt-2 col-4">
            <div class="d-flex flex-column gap-1">
              <label for="code">Code</label>
              <p-select
                [options]="codes"
                formControlName="country_code"
                id="code"
                optionLabel="label"
                placeholder="Select Code"
                class="w-100">
              </p-select>
              <small *ngIf="loginForm.get('country_code')?.touched && loginForm.get('country_code')?.errors?.['required']"
                     class="text-danger">
                Code is required
              </small>
            </div>
          </div>

          <!-- Phone -->
          <div class="mt-2 col-8">
            <div class="d-flex flex-column gap-1">
              <label for="phone">Phone Number</label>
              <input
                id="phone"
                type="tel"
                formControlName="phone_number"
                pInputText
                class="w-100"
                inputmode="tel"
                placeholder="e.g. 700 123456"
                pattern="^\+?[0-9\s\-]{7,15}$"/>

              <small *ngIf="loginForm.get('phone_number')?.touched && loginForm.get('phone_number')?.errors?.['required']"
                     class="text-danger">
                Phone number is required
              </small>
            </div>
          </div>


          <!-- Password -->
          <div class="mt-2 col-12">
            <div class="d-flex flex-column gap-1">
              <label for="password">Password</label>
              <p-password
                formControlName="password"
                inputId="password"
                [feedback]="false"
                [toggleMask]="true"
                inputStyleClass="w-100">
              </p-password>
              <small *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['required']"
                     class="text-danger">
                Password is required
              </small>
              <small *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['minlength']"
                     class="text-danger">
                Password must be at least 6 characters
              </small>
            </div>
          </div>

          <!-- Remember Me + Forgot password -->
          <div class="mt-3 row">
            <div class="col">
              <p-checkbox inputId="rememberMe" formControlName="rememberMe" binary="true"></p-checkbox>
              <label for="rememberMe" class="ms-1">Remember me</label>
            </div>
            <div class="col text-end">
              <a href="#" class="text-decoration-none">Forgot password?</a>
            </div>
          </div>
        </div>

        <!-- Submit button -->
        <div class="col-12 mt-3">
          <button
            type="submit"
            class="w-100 rounded-pill p-2 bg-primary text-white"
          >
            <!--            [disabled]="loginForm.invalid || isSubmitting"-->
            <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm me-2"></span>
            {{ isSubmitting ? 'Logging in...' : 'Sign In' }}
          </button>
        </div>

        <!-- Divider -->
        <div class="d-flex align-items-center py-4">
          <hr class="flex-grow-1">
          <span class="px-3 text-secondary" style="font-size: 10px;">OR CONTINUE WITH</span>
          <hr class="flex-grow-1">
        </div>

        <!-- Signup link -->
        <div class="text-center">
          <p class="mb-0">
            Donâ€™t have an account?
            <a
              style="cursor: pointer;"
              routerLink="/sign-up" class="text-decoration-none">Sign up</a>
          </p>
        </div>
      </form>
    </div>
  </div>
</div>
