import{b as u}from"./chunk-KLFOQ2RT.js";import{$ as y,da as g,k as h,o as r}from"./chunk-45NCVV7C.js";var e="/globalApi",l=class n{constructor(t){this.http=t}today=new Date().toISOString().split("T")[0];getCities(){return this.http.post(e+"/common/getCity",{city_id:0,city_type:"source"}).pipe(r(this.extractData))}getDestinations(t){return this.http.post(e+"/common/getCity",{city_id:t,city_type:"destination"}).pipe(r(this.extractData))}getTrips(t){return this.http.post(e+"/Trips/filterBuses",t).pipe(r(this.extractData))}getBoardingDropping(t){return this.http.post(e+"/booking/getBoardingDroppingPoints",t).pipe(r(this.extractData))}bookingTicket(t){return this.http.post(e+"/Ticket/RoundBooking",t).pipe(r(this.extractData))}login(t){return this.http.post(e+"/AppUser/UserLogin",t).pipe(r(this.extractData))}otpVerification(t){return this.http.post(e+"/AppUser/UserOTPVerification",t).pipe(r(this.extractData))}verifyOtp(t){return this.http.post(e+"/AppUser/OTPVerification",t).pipe(r(this.extractData))}signup(t){return this.http.post(e+"/AppUser/signup",t).pipe(r(this.extractData))}changePassword(t){return this.http.post(e+"/AppUser/ChangePassword",t).pipe(r(this.extractData))}paymentMethods(t){return this.http.post(e+"/booking/paymentMethod",t).pipe(r(this.extractData))}makePayment(t){return this.http.post(e+"/paymentGateway/init",t).pipe(r(this.extractData))}forgotPassword(t){return this.http.post(e+"/AppUser/ForgotPassword",t).pipe(r(this.extractData))}getNationality(){return this.http.post(e+"/common/GetNationality",{sourcetype:"web"}).pipe(r(this.extractData))}getOffers(){return this.http.post(e+"/common/getOffersList",{currency_id:1,sourcetype:"web"}).pipe(r(this.extractData))}getSeats(t){return this.http.post(e+"/trips/getTripSeatsPrice",t).pipe(r(this.extractData))}getDroppingBoardingPoint(t){return this.http.post(e+"/trips/getBoardingDroppingPoints",t).pipe(r(this.extractData))}sendOtp(t){return this.http.post(e+"/AppUser/GenerateOTP",t).pipe(r(this.extractData))}checkMpesaPayment(t){return this.http.post(e+"/paymentGateway/checkMpesaPayment",t).pipe(r(this.extractData))}getFilterOptions(t){return this.http.post(e+"/trips/getFilterOptions",t).pipe(r(this.extractData))}getUserWalletData(t,a=1){let i={userId:t,currencyId:a,sourcetype:"web"};return console.log(i),this.http.post(e+"/UserWallet/GetWalletData",i).pipe()}getWalletHistoryData(t,a=1,i=1,s=10){let p={userId:t,currencyId:a,perPage:s,page:i,sourcetype:"web"};return this.http.post(e+"/UserWallet/GetWalletHistory",p).pipe()}getBookingHistory(t="upcoming"){let a={tripType:t,sourcetype:"web"};return this.http.post(e+"/ticket/bookingHistory",a).pipe()}getOfferList(t=1){let a={currency_id:1,sourcetype:"web"};return this.http.post(e+"/common/getOffersList",{currency_id:1,sourcetype:"web"}).pipe(r(this.extractData))}rescheduleTicket(t){return this.http.post(e+"/Ticket/RescheduleTicket",t).pipe(r(this.extractData))}resetPassword(t){return this.http.post(e+"/AppUser/ChangeForgotPassword",t).pipe(r(this.extractData))}getCommissionReport(t,a=10,i="1",s=null,p=this.today,o=this.today){let c={page:t,perPage:String(a),currencyId:String(i),agentId:s,startDate:p,endDate:o,sourcetype:"web"};return this.http.post(e+"/agency/getCommissionReport",c).pipe(r(this.extractData))}getCurrencyList(){return this.http.get(e+"/common/getCurrencyList").pipe(r(this.extractData))}getAllSubAgentList(t,a=10,i="1",s=null,p=this.today,o=this.today){let c={page:t,perPage:String(a),currencyId:String(i),agentId:s,startDate:p,endDate:o,sourcetype:"web"};return this.http.post(e+"/agency/getAllSubAgentList",{data:c}).pipe(r(this.extractData))}getCounties(){return this.http.get(e+"/common/getCounty").pipe(r(this.extractData))}printTicket(t){return this.http.post(e+"/ticket/print",t).pipe(r(this.extractData))}updateProfile(t){return this.http.post(e+"/appUser/Update",t).pipe(r(this.extractData))}extractData(t){return t||{}}handleError(t="operation",a){return i=>(console.error(i),console.log(`${t} failed: ${i.message}`),h(a))}static \u0275fac=function(a){return new(a||n)(g(u))};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})};export{l as a};
