import{a as A}from"./chunk-WJBGN4D7.js";import{a as L}from"./chunk-D3BB2YUO.js";import"./chunk-ZRTNA5AZ.js";import"./chunk-ZGVWO2O4.js";import{a as W}from"./chunk-LF2IBCJR.js";import"./chunk-KLFOQ2RT.js";import{A as V}from"./chunk-RAZRMRQX.js";import"./chunk-7UZYWCAJ.js";import"./chunk-6LBJZWJB.js";import{j as D,k as N,q as F,s as Y,v as j}from"./chunk-GPQBVM7U.js";import{c as R}from"./chunk-35RUP4P6.js";import{Cc as T,Ic as s,Jc as d,Kc as C,Ob as g,Pb as t,Qb as n,Rb as m,Vb as h,Wb as w,Yb as B,_a as o,bc as x,dc as k,ea as P,ka as M,la as y,oc as f,pc as S,qb as O,rc as i,sc as a,tc as b,uc as v,wb as _,wc as E,xc as I,yc as z}from"./chunk-45NCVV7C.js";import"./chunk-TWZW5B45.js";var K=()=>({width:"385px"});function Q(l,r){l&1&&(t(0,"button",37),m(1,"i",38),i(2," Reschedule "),n())}function q(l,r){if(l&1){let e=B();t(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"span",17),i(5),n(),t(6,"div",18)(7,"span",19),i(8,"Seat"),n(),t(9,"span",20),i(10),n()(),t(11,"span",21),i(12,"Ticket Number :"),t(13,"span",22),i(14),n()()(),t(15,"div",23)(16,"div",24)(17,"span",19),i(18,"Amount"),n(),t(19,"span",25),i(20),n()(),t(21,"span",26),i(22),s(23,"translate"),n()()(),t(24,"div",27)(25,"div",28)(26,"div",29)(27,"span",30),i(28),n(),m(29,"i",31),t(30,"span",30),i(31),n()(),t(32,"div",32)(33,"div",33),i(34),n(),t(35,"div",18)(36,"span",19),i(37,"Bus Type :"),n(),t(38,"span",20),i(39),s(40,"titlecase"),n()()()()(),t(41,"div",34)(42,"p-button",35),x("click",function(){let u=M(e).$implicit,p=k();return y(p.showDialog(u))}),n(),_(43,Q,3,0,"button",36),n()()()}if(l&2){let e=r.$implicit;o(5),a(e.name),o(5),a(e.seat_name),o(4),a(e.ticket_number),o(6),v("",e.currency_code," ",e.total_amount),o(),f("status-confirmed",e.status==="Confirmed")("status-pending",e.status==="Pending"),o(),b(" ",d(23,15,"myTripsPage.status."+e.status.toLowerCase())," "),o(6),a(e.pickup_city),o(3),a(e.drop_city),o(3),a(e.company_name),o(5),a(d(40,17,e.bus_type)),o(4),g("ngIf",e.status==="Confirmed")}}function G(l,r){if(l&1&&(h(0),t(1,"div")(2,"span",39),i(3),s(4,"date"),n()(),t(5,"div",40)(6,"div",15)(7,"div",16)(8,"span",17),i(9),n(),t(10,"div",18)(11,"span",19),i(12,"Seat"),n(),t(13,"span",20),i(14),n()(),t(15,"span",21),i(16,"Ticket Number :"),t(17,"span",22),i(18),n()(),t(19,"span",21),i(20,"Booking Reference :"),t(21,"span",22),i(22),n()()(),t(23,"div",23)(24,"div",24)(25,"span",19),i(26,"Amount"),n(),t(27,"span",25),i(28),n()(),t(29,"span",26),i(30),s(31,"translate"),n()()(),t(32,"div",27)(33,"div",28)(34,"div",29)(35,"span",30),i(36),n(),m(37,"i",31),t(38,"span",30),i(39),n()(),t(40,"div",32)(41,"div",33),i(42),n(),t(43,"div",18)(44,"span",19),i(45,"Bus Type :"),n(),t(46,"span",20),i(47),s(48,"titlecase"),n()()()()(),t(49,"div",41)(50,"div",42)(51,"div",24)(52,"span",19),i(53,"Boarding Point"),n(),t(54,"span",43),i(55),n()(),t(56,"div",24)(57,"span",19),i(58,"Date & Time"),n(),t(59,"span",43),i(60),s(61,"date"),n()()()()(),w()),l&2){let e=k();o(3),a(C(4,19,e.selectedBooking.booking_date,"EEE MMM yy")),o(6),a(e.selectedBooking.name),o(5),a(e.selectedBooking.seat_name),o(4),a(e.selectedBooking.ticket_number),o(4),a(e.selectedBooking.booking_reference),o(6),v("",e.selectedBooking.currency_code," ",e.selectedBooking.total_amount),o(),f("status-confirmed",e.selectedBooking.status==="Confirmed")("status-pending",e.selectedBooking.status==="Pending"),o(),b(" ",d(31,22,"myTripsPage.status."+e.selectedBooking.status.toLowerCase())," "),o(6),a(e.selectedBooking.pickup_city),o(3),a(e.selectedBooking.drop_city),o(3),a(e.selectedBooking.company_name),o(5),a(d(48,24,e.selectedBooking.bus_type)),o(8),a(e.selectedBooking.boarding_point),o(5),v(" ",C(61,26,e.selectedBooking.booking_date,"MMM dd")," \u2022 ",e.selectedBooking.boarding_time," ")}}var H=class l{totalItems=10;dateRange="11 Mar 2025 - 11 Mar 2025";status="confirmed";currency="KES";searchQuery="";user="";state="upcoming";activeTab="upcoming";bookings=[];data=[];service=P(W);visible=!1;selectedBooking={};constructor(){}ngOnInit(){this.getTripData(this.state)}search(){}getTripData(r){this.activeTab=r,this.service.getBookingHistory(r).subscribe({next:e=>{e.data&&(this.data=e.data)},error:e=>{console.log(e)},complete:()=>{console.log("Successfully retrieved data")}})}rescheduleBooking(r){console.log("Reschedule booking:",r)}showDialog(r){console.log(r),this.selectedBooking=r,this.visible=!0}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=O({type:l,selectors:[["app-view-user-profile-bookings"]],decls:18,vars:17,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12","p-0"],[1,"card","p-0"],[1,"card-header","p-0"],["role","tablist",1,"nav","nav-tabs","card-header-tabs"],["type","button",1,"nav-link",3,"click"],[1,"fas","fa-clock","me-2"],[1,"fas","fa-check-circle","me-2"],[1,"card-body","px-0"],["class","booking-row",4,"ngFor","ngForOf"],["header","Ticket Details",3,"visibleChange","visible","modal"],[4,"ngIf"],[1,"booking-row"],[1,"ticket-container"],[1,"row-header"],[1,"passenger-info"],[1,"passenger-name"],[1,"d-flex","flex-row","gap-1","align-items-baseline"],[1,"field-label"],[1,"field-value"],[1,"booking-ref"],[1,"fw-semibold"],[1,"d-flex","flex-column","gap-1"],[1,"ticket-field"],[1,"field-value","amount"],[1,"status-badge"],[1,"ticket-header"],[1,"route-section"],[1,"city-block"],[1,"city-name"],[1,"fas","fa-arrow-right"],[1,"d-flex","flex-row","gap-4","align-items-baseline"],[1,"operator-name"],[1,"action-row"],["label","View More details",3,"click"],["class","btn-action btn-success","type","button",4,"ngIf"],["type","button",1,"btn-action","btn-success"],[1,"fas","fa-download"],[1,"rounded-pill","bg-primary-subtle","text-primary-emphasis","p-1"],[1,""],[1,"ticket-body"],[1,"body-row"],[1,"field-value","fs-6"]],template:function(e,c){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"button",6),x("click",function(){return c.getTripData("upcoming")}),m(7,"i",7),i(8),s(9,"translate"),n(),t(10,"button",6),x("click",function(){return c.getTripData("completed")}),m(11,"i",8),i(12),s(13,"translate"),n()()(),t(14,"div",9),_(15,q,44,19,"div",10),n()()()()(),t(16,"p-dialog",11),z("visibleChange",function(p){return I(c.visible,p)||(c.visible=p),p}),_(17,G,62,29,"ng-container",12),n()),e&2&&(o(6),f("active",c.activeTab==="upcoming"),o(2),b(" ",d(9,12,"myTripsPage.tabs.upcoming")," "),o(2),f("active",c.activeTab==="completed"),o(2),b(" ",d(13,14,"myTripsPage.tabs.completed")," "),o(3),g("ngForOf",c.data),o(),S(T(16,K)),E("visible",c.visible),g("modal",!0),o(),g("ngIf",c.selectedBooking&&c.selectedBooking.name))},dependencies:[j,D,N,V,L,A,F,Y,R],styles:[".nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #e9ecef;background-color:#f8f9fa}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;border-radius:0;color:#6c757d;background-color:transparent;padding:.75rem 1.25rem;font-weight:500;transition:all .3s ease;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#495057;background-color:#007bff1a}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#007bff;background-color:#fff;font-weight:600;border-bottom:3px solid #007bff}.booking-row[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026;transform:translateY(-1px)}.row-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem}.passenger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.passenger-name[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#495057}.booking-ref[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;background:#e9ecef;padding:.125rem .5rem;border-radius:10px;margin-top:.25rem}.status-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem;border-radius:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.status-confirmed[_ngcontent-%COMP%]{background:#28a745;color:#fff}.status-pending[_ngcontent-%COMP%]{background:#ffc107;color:#000}.status-cancelled[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.status-completed[_ngcontent-%COMP%]{background:#17a2b8;color:#fff}.info-table[_ngcontent-%COMP%]{padding:.5rem 0}.info-row[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.375rem 1rem;border-bottom:1px solid #f8f9fa;min-height:2.5rem}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-label[_ngcontent-%COMP%]{width:80px;flex-shrink:0;font-size:.8rem;color:#6c757d;font-weight:500;display:flex;align-items:center;gap:.5rem}.info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:14px;font-size:.8rem;color:#007bff}.info-value[_ngcontent-%COMP%]{flex:1;font-size:.9rem;color:#495057;font-weight:500}.amount[_ngcontent-%COMP%]{font-weight:600;color:#28a745;font-size:1rem}.seat-badge[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:.25rem .5rem;border-radius:4px;font-weight:600;font-size:.8rem;margin-right:.5rem}.bus-type[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d;background:#f8f9fa;padding:.25rem .5rem;border-radius:10px}.company-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.company-name[_ngcontent-%COMP%]{font-weight:600}.phone-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;padding:.25rem;border-radius:50%;background:#e7f3ff;width:30px;height:30px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.phone-link[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.boarding-point[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d}.action-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:.75rem 1rem;background:#f8f9fa;border-top:1px solid #e9ecef}.btn-action[_ngcontent-%COMP%]{flex:1;border:none;border-radius:6px;padding:.5rem .75rem;font-size:.8rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:.375rem;transition:all .2s ease;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px)}.btn-success[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:#1e7e34;transform:translateY(-1px)}.btn-danger[_ngcontent-%COMP%]{background:transparent;color:#dc3545;border:1px solid #dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff;transform:translateY(-1px)}@media (max-width: 576px){.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.9rem}.passenger-name[_ngcontent-%COMP%]{font-size:.95rem}.booking-ref[_ngcontent-%COMP%]{font-size:.8rem}.info-label[_ngcontent-%COMP%]{width:70px;font-size:.75rem}.info-value[_ngcontent-%COMP%]{font-size:.85rem}.btn-action[_ngcontent-%COMP%]{padding:.4rem .5rem;font-size:.75rem}}.booking-row[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.ticket-container[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9ecef;border-radius:10px;overflow:hidden;box-shadow:0 2px 8px #0000000f}.ticket-header[_ngcontent-%COMP%]{padding:0 .825rem}.route-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.city-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.city-name[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.city-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9}.operator-name[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9;font-weight:500}.ticket-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;display:flex;flex-direction:column;gap:.75rem}.body-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem}.ticket-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.field-label[_ngcontent-%COMP%]{font-size:.7rem;color:#6c757d;text-transform:uppercase;letter-spacing:.3px;font-weight:600}.field-value[_ngcontent-%COMP%]{font-size:.95rem;color:#212529;font-weight:600;display:flex;align-items:center;gap:.4rem}.field-value[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:.85rem}.field-value.amount[_ngcontent-%COMP%]{color:#28a745;font-size:1.1rem;font-weight:700}.boarding-point[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.6rem .75rem;background:#f8f9fb;border-radius:6px;font-size:.85rem;color:#495057;border-left:3px solid #007bff;margin-top:.25rem}.boarding-point[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:.8rem}.ticket-footer[_ngcontent-%COMP%]{background:#f8f9fb;padding:.75rem 1.25rem;border-top:1px dashed #dee2e6}.btn-reschedule[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.4rem;background:#007bff;color:#fff;border:none;border-radius:6px;padding:.6rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s ease;width:100%}.btn-reschedule[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px)}@media (max-width: 768px){.ticket-header[_ngcontent-%COMP%]{padding:0 .825rem}.city-name[_ngcontent-%COMP%]{font-size:1.1rem}.ticket-body[_ngcontent-%COMP%]{padding:.85rem 1rem}.body-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:.5rem}.field-label[_ngcontent-%COMP%]{font-size:.65rem}.field-value[_ngcontent-%COMP%]{font-size:.85rem}.field-value.amount[_ngcontent-%COMP%]{font-size:1rem}.ticket-footer[_ngcontent-%COMP%]{padding:.65rem 1rem}.btn-reschedule[_ngcontent-%COMP%]{padding:.55rem 1.25rem;font-size:.85rem}}@media (max-width: 576px){.city-name[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--primary-color-500)}.body-row[_ngcontent-%COMP%]{gap:.4rem}.field-value[_ngcontent-%COMP%]{font-size:.8rem}.field-value[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}}"]})};export{H as BookingsComponent};
