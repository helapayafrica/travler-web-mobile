import{l as V}from"./chunk-NMHFSZUN.js";import"./chunk-4QCEHMDE.js";import{a as G}from"./chunk-LF2IBCJR.js";import"./chunk-KLFOQ2RT.js";import{B as T,c as I,f as E,g as W,h as B,j as D,l as k,p as F,q as N}from"./chunk-RAZRMRQX.js";import{i as w,j as v,k as h,u as y,v as x}from"./chunk-GPQBVM7U.js";import{c as S}from"./chunk-35RUP4P6.js";import{Ic as l,Jc as m,Kb as P,Kc as _,Mb as O,Nb as M,Ob as p,Pb as t,Qb as n,Rb as g,_a as e,bc as u,ea as s,qb as b,rc as o,sc as c,tc as C,wb as f}from"./chunk-45NCVV7C.js";import"./chunk-TWZW5B45.js";function j(r,d){r&1&&(t(0,"tr")(1,"td",17)(2,"div",18),g(3,"i",19),n(),t(4,"p"),o(5),l(6,"translate"),n()()()),r&2&&(e(5),c(m(6,1,"walletPage.table.emptyState")))}function K(r,d){if(r&1&&(t(0,"td"),o(1),l(2,"currency"),n(),t(3,"td")(4,"p",20),o(5),n()(),t(6,"td"),o(7),n()),r&2){let a=d.$implicit;e(),c(_(2,4,a.amount,"Ksh ")),e(3),p("ngClass",a.amountStatus=="credited"?"bg-success-subtle text-success":"bg-danger-subtle text-danger"),e(),C(" ",a.amountStatus," "),e(2),c(a.comments)}}function $(r,d){if(r&1&&(t(0,"tr"),O(1,K,8,7,null,null,P),n()),r&2){let a=d.$implicit;e(),M(a.data)}}var z=class r{walletBalance="0";service=s(V);backendService=s(G);transactions=[];voucherForm=new B({voucher:new D("")});constructor(){}ngOnInit(){this.getWalletData(),this.getWalletHistory()}transferMoney(){}applyVoucher(){console.log(this.voucherForm.value.voucher),this.getWalletData()}getWalletData(){let a=this.service.getConfig("userData").userId;this.backendService.getUserWalletData(a).subscribe({next:i=>{i.data&&(this.walletBalance=i.data[0].amount)}})}getWalletHistory(){let a=this.service.getConfig("userData").userId;this.backendService.getWalletHistoryData(a).subscribe({next:i=>{i.isSucess&&(this.transactions=i.data)},error:i=>{console.error("Error fetching wallet history:",i)}})}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=b({type:r,selectors:[["app-view-user-profile-wallet"]],decls:41,vars:28,consts:[[1,"wallet-container"],[1,"wallet-header"],[1,"wallet-icon"],[1,"bi","bi-wallet2-fill"],[1,"wallet-balance"],[1,"wallet-actions"],[1,"row","g-4"],[1,"col-12"],[1,"form-group"],[1,"form",3,"ngSubmit","formGroup"],["for","voucher",1,"form-label"],["type","text","formControlName","voucher","id","voucher",1,"form-control",3,"placeholder"],[1,"btn","btn-primary","rounded-pill",3,"click"],[1,"data-table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-center","empty-state"],[1,"empty-icon"],[1,"bi","bi-bank"],[1,"p-1","rounded","fw-semibold","d-flex","flex-column","justify-content-center","align-items-center",3,"ngClass"]],template:function(a,i){a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),g(3,"i",3),n(),t(4,"div",4)(5,"h2"),o(6),l(7,"currency"),n(),t(8,"p"),o(9),l(10,"translate"),n()(),t(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"form",9),u("ngSubmit",function(){return i.applyVoucher()}),t(16,"label",10),o(17),l(18,"translate"),n(),g(19,"input",11),l(20,"translate"),n()()(),t(21,"div",7)(22,"button",12),u("click",function(){return i.applyVoucher()}),o(23),l(24,"translate"),n()()()()(),t(25,"div",13)(26,"table",14)(27,"thead")(28,"tr")(29,"th"),o(30),l(31,"translate"),n(),t(32,"th"),o(33),l(34,"translate"),n(),t(35,"th"),o(36),l(37,"translate"),n()()(),t(38,"tbody"),f(39,j,7,3,"tr",15)(40,$,3,0,"tr",16),n()()()()),a&2&&(e(6),c(_(7,11,i.walletBalance,"Ksh")),e(3),c(m(10,14,"walletPage.balance.title")),e(6),p("formGroup",i.voucherForm),e(2),c(m(18,16,"walletPage.voucher.label")),e(2),p("placeholder",m(20,18,"walletPage.voucher.placeholder")),e(4),C(" ",m(24,20,"walletPage.voucher.button")," "),e(7),c(m(31,22,"walletPage.table.headers.amount")),e(3),c(m(34,24,"walletPage.table.headers.status")),e(3),c(m(37,26,"walletPage.table.headers.comment")),e(3),p("ngIf",i.transactions.length===0),e(),p("ngForOf",i.transactions))},dependencies:[x,w,v,h,T,k,I,E,W,F,N,y,S],styles:[".wallet-container[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:6px;border:1px solid var(--bs-gray-300);margin-bottom:1.5rem;padding:1rem}.wallet-container[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   .wallet-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#ee2f2d;margin-right:1.5rem}.wallet-container[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   .wallet-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8254a0}.wallet-container[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   .wallet-balance[_ngcontent-%COMP%]{flex-grow:1}.wallet-container[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   .wallet-balance[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;margin-bottom:.25rem}.wallet-container[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   .wallet-balance[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;color:#6c757d}.wallet-container[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   .wallet-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{padding:.5rem 1.5rem}.wallet-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:6px;box-shadow:0 2px 6px #00000014;overflow:hidden}.wallet-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-bottom:0}.wallet-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-weight:500;padding:.75rem 1rem}.wallet-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;vertical-align:middle}.wallet-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:3rem 1rem;text-align:center}.wallet-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:#6c757d}.wallet-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6c757d}.wallet-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#6c757d;margin-bottom:0}@media (max-width: 768px){.wallet-container[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.wallet-container[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   .wallet-icon[_ngcontent-%COMP%]{margin-right:0;margin-bottom:1rem}.wallet-container[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   .wallet-balance[_ngcontent-%COMP%]{margin-bottom:1.5rem}}.btn-primary[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--primary-color-400),var(--primary-color-500),var(--primary-color-600),var(--primary-color-600));color:#fff;border:none}"]})};export{z as WalletComponent};
