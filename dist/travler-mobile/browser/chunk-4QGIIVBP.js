import{a as b}from"./chunk-LF2IBCJR.js";import"./chunk-KLFOQ2RT.js";import{A as F,f as B,k,r as D,s as N,t as T}from"./chunk-RAZRMRQX.js";import{j as y,k as w,v as I}from"./chunk-GPQBVM7U.js";import{c as E}from"./chunk-35RUP4P6.js";import{Gb as m,Ic as c,Jc as s,Kb as x,Mb as v,Nb as S,Ob as g,Pb as e,Qb as t,_a as i,ea as h,lb as M,qb as P,rc as n,sc as o,wb as O,wc as u,xc as C,yc as _,zc as f}from"./chunk-45NCVV7C.js";import"./chunk-TWZW5B45.js";function R(p,a){if(p&1&&(e(0,"option",8),n(1),t()),p&2){let r=a.$implicit;g("value",r.id),i(),o(r.code)}}function j(p,a){p&1&&(e(0,"tr")(1,"td",26),n(2),c(3,"translate"),t()()),p&2&&(i(2),o(s(3,1,"dashboard.table.noData")))}function q(p,a){if(p&1&&(e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),t(),e(5,"td"),n(6),t(),e(7,"td"),n(8),t(),e(9,"td"),n(10),t(),e(11,"td"),n(12),t()()),p&2){let r=a.$implicit;i(2),o(r.companyName),i(2),o(r.ticketNo),i(2),o(r.totalSales),i(2),o(r.commission),i(2),o(r.selfCommission),i(2),o(r.walletBalance)}}var L=class p{constructor(a){this.service=a}totalItems=10;dateRange=new Date;currency="KES";searchQuery="";user="";bookings=[];currencies=[];perPage=10;currencyId=1;start_date=new Date;end_date=new Date;ngOnInit(){this.getCurrencies(),this.getCommissionReport()}search(){}backendService=h(b);getCommissionReport(){let a=new Date().toISOString().split("T")[0],r={agentId:null,currencyId:this.currency,endDate:a,perPage:this.perPage,startDate:a,sourcetype:"web"};console.log("[The REquest]"),console.log(r),this.backendService.getCommissionReport().subscribe({next:l=>{console.log(l),l.isSuccess?this.bookings=l.data:this.bookings=[]},error:l=>{console.error(l)},complete:()=>{console.log("complete")}})}getCurrencies(){this.backendService.getCurrencyList().subscribe({next:a=>{a.isSuccess&&(this.currencies=a.currency,console.log(this.currencies))},error:a=>{console.log(a)},complete:()=>{}})}static \u0275fac=function(r){return new(r||p)(M(b))};static \u0275cmp=P({type:p,selectors:[["app-view-user-profile-dashboard"]],decls:75,vars:43,consts:[[1,"filter-controls"],[1,"row","mb-4"],[1,"col-6"],[1,"form-label"],[1,"form-select",3,"ngModelChange","ngModel"],["selected","","value","10",1,"form-control"],["value","20",1,"form-control"],["value","50",1,"form-control"],[1,"form-control",3,"value"],[1,"col-12","mt-2"],[1,"form-select",3,"aria-label"],["selected","",1,"form-control"],["value","1",1,"form-control"],["value","2",1,"form-control"],["value","3",1,"form-control"],[1,"data-table-container"],[1,"table","table-responsive"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pagination-controls"],[1,"pagination"],[1,"page-item"],["href","#",1,"page-link",3,"aria-label"],["aria-hidden","true"],[1,"page-item","active"],["href","#",1,"page-link"],["colspan","10",1,"text-center"]],template:function(r,l){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),n(4),c(5,"translate"),t(),e(6,"select",4),_("ngModelChange",function(d){return C(l.totalItems,d)||(l.totalItems=d),d}),e(7,"option",5),n(8,"10"),t(),e(9,"option",6),n(10,"20"),t(),e(11,"option",7),n(12,"50"),t()()(),e(13,"div",2)(14,"label",3),n(15,"Currency"),t(),e(16,"select",4),_("ngModelChange",function(d){return C(l.currency,d)||(l.currency=d),d}),v(17,R,2,2,"option",8,x),t()(),e(19,"div",9)(20,"label",3),n(21),c(22,"translate"),t(),e(23,"select",10),c(24,"translate"),e(25,"option",11),n(26),c(27,"translate"),t(),e(28,"option",12),n(29,"One"),t(),e(30,"option",13),n(31,"Two"),t(),e(32,"option",14),n(33,"Three"),t()()()(),e(34,"div",15)(35,"table",16)(36,"thead")(37,"tr")(38,"th"),n(39),c(40,"translate"),t(),e(41,"th"),n(42),c(43,"translate"),t(),e(44,"th"),n(45),c(46,"translate"),t(),e(47,"th"),n(48),c(49,"translate"),t(),e(50,"th"),n(51),c(52,"translate"),t(),e(53,"th"),n(54),c(55,"translate"),t()()(),e(56,"tbody"),O(57,j,4,3,"tr",17)(58,q,13,6,"tr",18),t()()(),e(59,"div",19)(60,"nav")(61,"ul",20)(62,"li",21)(63,"a",22),c(64,"translate"),e(65,"span",23),n(66,"\xAB"),t()()(),e(67,"li",24)(68,"a",25),n(69,"1"),t()(),e(70,"li",21)(71,"a",22),c(72,"translate"),e(73,"span",23),n(74,"\xBB"),t()()()()()()()),r&2&&(i(4),o(s(5,19,"dashboard.totalItemsLabel")),i(2),u("ngModel",l.totalItems),i(10),u("ngModel",l.currency),i(),S(l.currencies),i(4),o(s(22,21,"dashboard.userSelectLabel")),i(2),m("aria-label",f(s(24,23,"dashboard.userSelectLabel"))),i(3),o(s(27,25,"dashboard.userSelectPlaceholder")),i(13),o(s(40,27,"dashboard.table.companyName")),i(3),o(s(43,29,"dashboard.table.ticketNo")),i(3),o(s(46,31,"dashboard.table.totalSale")),i(3),o(s(49,33,"dashboard.table.commission")),i(3),o(s(52,35,"dashboard.table.selfCommission")),i(3),o(s(55,37,"dashboard.table.walletBalance")),i(3),g("ngIf",l.bookings.length===0),i(),g("ngForOf",l.bookings),i(5),m("aria-label",f(s(64,39,"dashboard.pagination.previous"))),i(8),m("aria-label",f(s(72,41,"dashboard.pagination.next"))))},dependencies:[I,y,w,F,N,T,D,B,k,E],styles:[".filter-controls[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;align-items:flex-end;margin-bottom:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filter-controls[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}.filter-controls[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .filter-controls[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:120px;border-color:#dee2e6}.filter-controls[_ngcontent-%COMP%]   .filter-group.status-filter[_ngcontent-%COMP%]{min-width:150px}.filter-controls[_ngcontent-%COMP%]   .filter-group.date-range[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:300px}.filter-controls[_ngcontent-%COMP%]   .filter-group.currency-select[_ngcontent-%COMP%]{min-width:100px}.filter-controls[_ngcontent-%COMP%]   .filter-group.user-select[_ngcontent-%COMP%]{min-width:200px}.filter-controls[_ngcontent-%COMP%]   .search-group[_ngcontent-%COMP%]{flex-grow:1;min-width:50%}.filter-controls[_ngcontent-%COMP%]   .search-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.filter-controls[_ngcontent-%COMP%]   .search-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-width:250px}.filter-controls[_ngcontent-%COMP%]   .search-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.data-table-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:6px;box-shadow:0 2px 6px #00000014;overflow:scroll;margin-bottom:1.5rem}.data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-bottom:0}.data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:var(--primary-color-100);color:var(--primary-color-900);font-weight:500;text-transform:none;white-space:nowrap;padding:.75rem 1rem}.data-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;vertical-align:middle}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.pagination-controls[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{margin-bottom:0}.pagination-controls[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:var(--bs-primary);border-color:var(--bs-primary);color:#fff}.pagination-controls[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:var(--bs-primary)}@media (max-width: 992px){.filter-controls[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.filter-controls[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{width:auto}.filter-controls[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .search-group[_ngcontent-%COMP%]{width:100%}}"]})};export{L as DashboardComponent};
